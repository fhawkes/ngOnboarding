(function(){var a;a=angular.module("ngOnboarding",[]),a.provider("ngOnboardingDefaults",function(){return{options:{overlay:!0,overlayOpacity:.6,overlayClass:"onboarding-overlay",popoverClass:"onboarding-popover",titleClass:"onboarding-popover-title",contentClass:"onboarding-popover-content",arrowClass:"onboarding-arrow",buttonContainerClass:"onboarding-button-container",buttonClass:"onboarding-button",showButtons:!0,nextButtonText:"Next",previousButtonText:"Previous",showDoneButton:!0,doneButtonText:"Done",closeButtonClass:"onboarding-close-button",closeButtonText:"&times;",stepClass:"onboarding-step-info",showStepInfo:!0},$get:function(){return this.options},set:function(a,b){var c,d,e;if("object"==typeof a){e=[];for(c in a)d=a[c],e.push(this.options[c]=d);return e}return this.options[a]=b}}}),a.directive("onboardingPopover",["ngOnboardingDefaults","$sce","$timeout",function(a,b,c){return{restrict:"E",scope:{enabled:"=",steps:"=",onFinishCallback:"=",index:"=stepIndex"},replace:!0,link:function(d){var e,f,g,h,i;return f=null,g=null,e=["title","top","right","bottom","left","width","height","position","arrowOffset"],d.stepCount=d.steps.length,d.showPopover=!1,d.next=function(){return g=f,d.index=d.index+1},d.previous=function(){return g=f,d.index=d.index-1},d.close=function(){return d.enabled=!1,h(!1),d.onFinishCallback?d.onFinishCallback():void 0},d.$watch("enabled",function(a){return a&&!d.index?d.index=0:void 0}),d.$watch("index",function(g){var j,k,l,m,n;if(null===g)return d.enabled=!1,void h(!1);for(d.showPopover=!1,f=d.steps[d.index],d.lastStep=d.index+1===d.steps.length,d.showNextButton=d.index+1<d.steps.length,d.showPreviousButton=d.index>0,m=0,n=e.length;n>m;m++)j=e[m],d[j]=null;for(k in a)l=a[k],void 0===f[k]&&(d[k]=l);for(k in f)l=f[k],d[k]=l;return d.description=b.trustAsHtml(d.description),d.nextButtonText=b.trustAsHtml(d.nextButtonText),d.previousButtonText=b.trustAsHtml(d.previousButtonText),d.doneButtonText=b.trustAsHtml(d.doneButtonText),d.closeButtonText=b.trustAsHtml(d.closeButtonText),c(function(){return h(),i()},0)}),h=function(a){return null==a&&(a=!0),g&&$(g.attachTo).removeClass("onboarding-focus"),f&&$(f.attachTo).removeClass("onboarding-focus"),a&&f.attachTo&&d.overlay?$(f.attachTo).addClass("onboarding-focus"):void 0},i=function(){var a,b,c,e,g,h,i,j,k,l,m,n;return b=f.attachTo,d.position=f.position,d.showPopover=!1,m=15,n=15,b&&(d.left||d.right||d.arrowOffset||(e=null,i=null,g=null,a=null,"right"===d.position?e=$(b).offset().left+$(b).outerWidth()+m:"left"===d.position?i=$(window).width()-$(b).offset().left+m:("top"===d.position||"bottom"===d.position)&&(e=$(b).offset().left,h=parseInt(f.width.replace("px","")),l=$(window).width(),e+h>=l&&(j=$(b).width()/2,g=l-h-m,a=e+j-g,e=g)),f.xOffset&&(null!==e&&(e+=f.xOffset),null!==i&&(i-=f.xOffset)),d.left=e,d.right=i,d.arrowOffset=a),d.top||d.bottom||(k=null,c=null,"left"===d.position||"right"===d.position?k=$(b).offset().top:"bottom"===d.position?k=$(b).offset().top+$(b).outerHeight()+n:"top"===d.position&&(c=$(window).height()-$(b).offset().top+n),f.yOffset&&(null!==k&&(k+=f.yOffset),null!==c&&(c-=f.yOffset)),d.top=k,d.bottom=c)),d.positionClass=d.position&&d.position.length?"onboarding-"+d.position:null,d.showPopover=!0}},template:"<div class='onboarding-container' ng-show='enabled'>\n  <div class='{{overlayClass}}' ng-style='{opacity: overlayOpacity}', ng-show='overlay'></div>\n  <div class='{{popoverClass}} {{positionClass}}' ng-style=\"{width: width, height: height, left: left, top: top, right: right, bottom: bottom}\" ng-show='showPopover'>\n    <div class='{{arrowClass}}' ng-style='{left: arrowOffset}'></div>\n    <div class=\"onboarding-header\">\n      <h3 class='{{titleClass}}' ng-show='title' ng-bind='title'></h3>\n      <a href='' ng-click='close()' class='{{closeButtonClass}}' ng-bind-html='closeButtonText'></a>\n    </div>\n    <div class='{{contentClass}}'>\n      <p ng-bind-html='description'></p>\n    </div>\n    <div class='{{buttonContainerClass}}' ng-show='showButtons'>\n      <span ng-show='showStepInfo' class='{{stepClass}}'>Step {{index + 1}} of {{stepCount}}</span>\n      <a href='' ng-click='previous()' ng-show='showPreviousButton' class='{{buttonClass}}' ng-bind-html='previousButtonText'></a>\n      <a href='' ng-click='next()' ng-show='showNextButton' class='{{buttonClass}}' ng-bind-html='nextButtonText'></a>\n      <a href='' ng-click='close()' ng-show='showDoneButton && lastStep' class='{{buttonClass}}' ng-bind-html='doneButtonText'></a>\n    </div>\n  </div>\n</div>"}}])}).call(this);